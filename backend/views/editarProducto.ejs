<%- include('parciales/head', { title: 'Retro Music - Editar Producto', bodyClass: 'pagina-editar' }) %>

    <%- include('parciales/navbar') %>

    <!-- Main -->
    <div class="container mt-4">
      <main class="main-container">
        <div class="text-center mb-4">
          <h2>âœï¸ Editar Producto</h2>
          <p class="text-muted">Modificar informaciÃ³n del producto</p>
        </div>

        <!-- Formulario Editar -->
        <div class="card shadow">
          <div class="card-body">
            <form id="formEditar" data-producto-id="<%= producto.id %>">
              <!-- Nombre -->
              <div class="mb-3">
                <label for="nombre" class="form-label">ğŸµ Nombre *</label>
                <input
                  type="text"
                  class="form-control"
                  id="nombre"
                  value="<%= producto.nombre %>"
                  required
                />
              </div>

              <!-- DescripciÃ³n -->
              <div class="mb-3">
                <label for="descripcion" class="form-label">ğŸ“ DescripciÃ³n</label>
                <textarea
                  class="form-control"
                  id="descripcion"
                  rows="3"
                ><%= producto.descripcion %></textarea>
              </div>

              <!-- CategorÃ­a -->
              <div class="mb-3">
                <label for="categoria" class="form-label">ğŸ·ï¸ CategorÃ­a *</label>
                <select class="form-control" id="categoria" required>
                  <option value="">Seleccione una categorÃ­a</option>
                  <option value="vinilos" <%= producto.categoria === 'vinilos' ? 'selected' : '' %>>ğŸµ Vinilo</option>
                  <option value="cds" <%= producto.categoria === 'cds' ? 'selected' : '' %>>ğŸ’¿ CD</option>
                </select>
              </div>

              <!-- Precio -->
              <div class="mb-3">
                <label for="precio" class="form-label">ğŸ’° Precio *</label>
                <div class="input-group">
                  <span class="input-group-text">$</span>
                  <input
                    type="number"
                    class="form-control"
                    id="precio"
                    value="<%= producto.precio %>"
                    min="0"
                    required
                  />
                </div>
              </div>

              <!-- Imagen actual -->
              <div class="mb-3">
                <label class="form-label">ğŸ“· Imagen actual</label>
                <div>
                  <img id="imagenActual" src="/<%= producto.imagen %>" alt="<%= producto.nombre %>" class="img-thumbnail" style="max-width: 200px;">
                </div>
              </div>

              <!-- Nueva imagen -->
              <div class="mb-3">
                <label for="imagen" class="form-label">ğŸ“· Cambiar imagen (opcional)</label>
                <input type="file" class="form-control" id="imagen" accept="image/*" />
                <small class="text-muted">Deja vacÃ­o para mantener la imagen actual</small>
              </div>

              <!-- Estado -->
              <div class="mb-3 form-check">
                <input type="checkbox" class="form-check-input" id="activo" <%= producto.activo ? 'checked' : '' %> />
                <label class="form-check-label" for="activo">âœ… Producto activo</label>
              </div>

              <!-- Botones -->
              <div class="d-flex gap-2">
                <button type="submit" class="btn btn-warning">ğŸ’¾ Guardar Cambios</button>
                <a href="/admin/dashboard" class="btn btn-secondary">âŒ Cancelar</a>
              </div>
            </form>
          </div>
        </div>
      </main>
    </div>

<%- include('parciales/footer') %>
